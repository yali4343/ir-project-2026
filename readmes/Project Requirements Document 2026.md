<link rel="stylesheet" href="pdf_rtl_styles.css">

<style>
body, div, p, li, ul, ol { direction: rtl; text-align: right; }
</style>

# סיכום מסמך דרישות פרויקט 2026 <span dir="ltr">(Project Requirements Document)</span>

<div dir="rtl">

סיכום זה מפרט את הדרישות, הנתונים, הקוד והקריטריונים להערכה עבור הפרויקט הסופי בקורס אחזור מידע (Information Retrieval) לסמסטר חורף 2025-2026. מטרת הפרויקט היא לבנות מנוע חיפוש עבור ויקיפדיה באנגלית.

---

## עמוד 1: מידע כללי, נתונים וקוד
**נושא:** סקירה כללית ומשאבים

העמוד הראשון מציג את המסגרת הכללית של הפרויקט, את הבונוס המובטח לעומדים בדרישות המינימום, ואת המשאבים הטכניים המסופקים לסטודנטים.

### פרטי הקורס והערכה
*   **הקורס:** אחזור מידע (Information Retrieval), מספר 372-1-4406.
*   **סמסטר:** חורף 2025-2026.
*   **המטרה:** בניית מנוע חיפוש מעל כל ויקיפדיה באנגלית.
*   **מבנה הציון:**
    *   הגשת פרויקט העומד ב**דרישות המינימום** מזכה אוטומטית ב-10 נקודות בציון הסופי של הקורס.
    *   הציון המספרי של הפרויקט (בין 56 ל-100) משמש כ"מגן" בשיעור של 15% על ציון המבחן.
    *   **נוסחת הציון:**
        $$ \text{Final Grade} = \max(\text{Exam}, 0.85 \times \text{Exam} + 0.15 \times \text{Project}) $$

### נתונים <span dir="ltr">(Data)</span>
הפרויקט מתבסס על שלושה מקורות מידע עיקריים המסופקים לסטודנטים:
1.  **כל הדאמפ של ויקיפדיה (Entire Wikipedia Dump):**
    *   זמין ב-Bucket משותף ב-Google Storage.
    *   זהו אותו מקור נתונים ששימש בתרגיל בית מס' 3.
2.  **צפיות בדפים (Pageviews):**
    *   מידע זה אינו מסופק כקובץ מוכן, אלא יש לגזור (Derive) אותו.
    *   יש להשתמש בקוד מתרגיל בית מס' 1 כדי להשיג/לחשב נתונים אלו.
3.  **קובץ שאילתות לאימון (`queries_train.json`):**
    *   מכיל רשימת שאילתות וציון רלוונטיות מדורג של עד 100 תוצאות לכל שאילתה.
    *   הקובץ כולל את קבוצת האימון (Train Split) עם 30 שאילתות והתוצאות שלהן for each.
    *   **חשוב:** קבוצת המבחן (Test Split), שתשמש להערכה הסופית, אינה כלולה בקובץ זה.

### קוד <span dir="ltr">(Code)</span>
סגל הקורס מספק מספר קבצי קוד (זמינים ב-Moodle) כבסיס לעבודה:
1.  **`search_frontend.py`:**
    *   אפליקציית Flask המשמשת כ-Frontend למנוע החיפוש.
    *   הקובץ מכיל שש מתודות ריקות (Blank methods) שיש לממש אותן. זהו השלד המרכזי של הפרויקט.
2.  **`run_frontend_in_colab.ipynb`:**
    *   מחברת Jupyter המדגימה כיצד להריץ את ה-Frontend בתוך סביבת Google Colab למטרות פיתוח ובדיקה.
    *   כולל הוראות לביצוע שאילתות ובדיקת המנוע.
3.  **`run_frontend_in_gcp.sh`:**
    *   הוראות שורת פקודה (Command-line) להעלאת (Search Engine Deployment) מנוע החיפוש ל-GCP.
    *   כולל פקודות להרצת מכונה וירטואלית (Compute Engine Instance), שריון כתובת IP ציבורית, והרצת המנוע בענן.
4.  **`startup_script_gcp.sh`:**
    *   סקריפט מעטפת (Shell script) שמגדיר את המכונה ב-Compute Engine.
    *   אין צורך לשנות קובץ זה אלא אם כן נדרשת התקנת חבילות Python נוספות ב-GCP.
5.  **`inverted_index_gcp.py`:**
    *   קוד לקריאה וכתיבה של האינדקס ל-Google Storage Bucket.

---

## עמוד 2: דרישות מינימום
**נושא:** תנאי סף למעבר (ציון 56)

כדי לקבל ציון עובר (56) לפחות, חובה לעמוד ב**כל** הדרישות הבאות ללא יוצא מן הכלל:

### 1. מנוע חיפוש פונקציונלי <span dir="ltr">(Functional Search Engine)</span>
*   המערכת חייבת להיות מסוגלת לעבד שאילתות ולהחזיר תוצאות מתוך הקורפוס המלא (כל ויקיפדיה).
*   לא מספיק להחזיר תוצאות מתוך תת-קבוצה של המסמכים.

### 2. מנוע חיפוש ניתן לבדיקה <span dir="ltr">(Testable Search Engine)</span>
*   המנוע חייב להיות נגיש דרך כתובת URL שתסופק בזמן ההגשה.
*   **תקופת הבדיקה:** המנוע חייב להיות פעיל ולענות לשאילתות במשך יומיים:
    *   החל מיום שלישי, 13 בינואר 2025, שעה 12:00 (צהריים).
    *   עד יום חמישי, 15 בינואר 2025, שעה 12:00 (צהריים). (הערה: התאריכים במסמך מציינים 2025, אם כי הכותרת 2026).
*   סטודנטים הזכאים להקלות (מילואים, אשפוז וכו') יקבלו מועד בדיקה חלופי.

### 3. דרישת יעילות <span dir="ltr">(Efficiency Requirement)</span>
*   **זמן ריצה מקסימלי:** אף שאילתה לא (Query Processing) תיקח יותר מ-**35 שניות**.
*   **איסור מטמון:** אסור להשתמש ב-Caching של תוצאות (כלומר, כל שאילתה צריכה להיות מחושבת בזמן אמת ולא להישלף מזיכרון של חישוב קודם).

### 4. דרישת איכות <span dir="ltr">(Quality Requirement)</span>
*   המדד הקובע הוא **Average Precision@10** (ממוצע הדיוק ב-10 התוצאות הראשונות).
*   הדרישה: הציון חייב להיות גדול מ-**0.1** על סט הטסטים (Test set).

### 5. איסור על שירותים חיצוניים <span dir="ltr">(No External Services)</span>
*   **מותר:** שימוש בחבילות ומודלים נוספים (כל עוד הם מקושרים סטטית - Statically Linked). למשל, מותר להשתמש במודל Embedding מתקדם ליצירת מסד נתונים וקטורי שרץ **מקומית**.
*   **אסור:**
    *   שימוש בשירותים חיצוניים בזמן ריצת השאילתה.
    *   קריאה דינמית ל-API חיצוני בזמן שאילתה.
    *   אחסון מסד הנתונים בשרת חיצוני.
    *   שימוש בשירותים חיצוניים אפילו לדברים "פשוטים" כמו מציאת מילים נרדפות.
*   הכלל המנחה: הכל חייב לרוץ ולהיות מאוחסן על המכונה שלכם ב-GCP.

### 6. קוד נקי ומאורגן <span dir="ltr">(Clean Code Repo)</span>
*   יש להגיש קישור למאגר (Repository) ב-Github (או פלטפורמה ציבורית אחרת).
*   המאגר חייב לכלול קובץ `Readme.md` המסביר את מבנה הקוד, הארגון שלו, והפונקציונליות של כל רכיב מרכזי במימוש.

---

## עמוד 3: דרישות דיווח וקריטריונים לציון מלא
**נושא:** הדו"ח הסופי וחלוקת הניקוד

### 7. דרישות דיווח <span dir="ltr">(Reporting Requirements)</span>
יש להגיש דו"ח (בעברית או באנגלית) דרך Moodle, באורך של עד 4 עמודים (אין חובה למלא את כולם).
**עיצוב:** גודל גופן 12, רווח שורה 1.5.

**תוכן הדו"ח:**
1.  תעודות זהות וכתובות אימייל של הסטודנטים.
2.  קישור ל-Github Repo.
3.  קישור ל-Google Storage Bucket המכיל את נתוני האינדקס (חייב להיות מוגדר כ-Publicly Accessible).
4.  **נספח (Appendix):** רשימת כל קבצי האינדקס עם הגדלים שלהם (Human-readable sizes).
    *   ניתן להפיק זאת באמצעות הפקודה: `gsutil du -ch gs://BUCKET_NAME`.
    *   נספח זה *לא* נספר במגבלת העמודים.
5.  תיאור של ניסויים מרכזיים (Key Experiments) שבוצעו, שיטת ההערכה ומסקנות עיקריות.
6.  גרף ביצועים (Performance) עבור כל "גרסה" עיקרית של המימוש.
7.  גרף זמן שליפה ממוצע (Average Retrieval Time) עבור כל גרסה.
8.  **ניתוח איכותני (Qualitative Evaluation):**
    *   ניתוח 10 התוצאות הראשונות עבור שאילתה אחת בה המנוע הצליח מאוד.
    *   ניתוח עבור שאילתה אחת בה המנוע כשל.
    *   הסבר מה עבד, מה לא עבד, מה הגורם הדומיננטי לכישלון וכיצד ניתן לשפר.

### דרישות לציון מלא <span dir="ltr">(Full Grading Criteria)</span>
מעבר לדרישות המינימום, הציון מורכב מהחלקים הבאים:

**1. תמיכה ב-5 שיטות דירוג (10 נקודות):**
יש לממש מתודות התומכות במנגנוני הדירוג הבאים (פרטים ב-`search_frontend.py`):
1.  **Cosine Similarity:** בשימוש tf-idf על גוף הערכים (Body).
2.  **Binary Ranking - Title:** האם מילות השאילתה מופיעות בכותרת.
3.  **Binary Ranking - Anchor:** האם מילות השאילתה מופיעות בטקסט העוגן.
4.  **PageRank:** דירוג מבוסס חשיבות הדף ברשת הקישורים.
5.  **Page Views:** דירוג מבוסס פופולריות צפיות.
*   **הערה:** מתודה שלוקחת יותר מ-35 שניות לא תזכה בנקודות.

**2. יעילות (7 נקודות):**
הניקוד נקבע לפי זמן השליפה הממוצע של מתודת ה-`search` הראשית:
*   פחות מ-1 שניה: **7 נקודות**.
*   1 - 1.5 שניות: **6 נקודות**.
*   1.5 - 2 שניות: **5 נקודות**.
*   2 - 2.5 שניות: **4 נקודות**.
*   2.5 - 3 שניות: **3 נקודות**.
*   3 - 3.5 שניות: **2 נקודות**.
*   3.5 - 5 שניות: **1 נקודה**.
*   מעל 5 שניות: **0 נקודות** (אך עדיין עובר אם מתחת ל-35).

**3. איכות התוצאות (18 נקודות):**
*   נמדד על ידי ממוצע הרמוני (Harmonic Mean) של שני מדדים:
    *   **Precision@5** (דיוק ב-5 התוצאות הראשונות).
    *   **F1@30** (מדד משולב דיוק וכיסוי ב-30 התוצאות הראשונות).
*   הציון יחושב באופן יחסי להגשות של סטודנטים אחרים.

**4. ניסויים והערכה (15 נקודות):**
*   אילו מודלים נוספים וניסויים נוספים נבדקו?
*   עד כמה ההערכה שלהם הייתה מעמיקה ויסודית?

**5. דיווח (4 נקודות):**
*   קוד נקי והסברים ברורים (2 נקודות).
*   מצגת קצרה (3-5 שקפים) המסכמת את העבודה (2 נקודות).

### עצות לסיכום <span dir="ltr">(Words of Advice)</span>
1.  **חזרה על הרצאה 3:** רעננו את הזיכרון לגבי המרכיבים הנדרשים לחישוב יעיל של Cosine Similarity.
2.  **נוסחת tf-idf:** ודאו שאתם זוכרים בדיוק מה נכנס לחישוב.
3.  **קריאת פרק 7 בספר:** הטכניקות שם קריטיות לייעול השליפה (Inexact top K retrieval, Index elimination וכו'), במיוחד אם השאילתות איטיות מדי.
4.  **קבוצת בדיקה עצמית:** שמרו צד חלק משאילתות האימון (Training set) לבדיקה עצמית, ואל תתאמנו על כולן.
5.  **אינדקס קטן להתחלה:** השתמשו ב-Training set כדי לבנות אינדקס *קטן* המכיל רק את המילים שמופיעות בשאילתות האימון. זה יאפשר לכם לבצע אופטימיזציה לדירוג ויעילות במהירות לפני המעבר לאינדקס המלא.
6.  **שיפורים מתקדמים:** המנוע הראשי (`search`) יכול להשתמש בכל השיטות שנלמדו בכיתה: Stemming, הסרת מילות עצירה (Stopwords), Word Embedding, הרחבת שאילתות (Query Expansion) ועוד. תכננו מראש מה תממשו.
7.  **פיתוח הדרגתי:** התחילו בקטן ב-Colab. בנו את המערכת נדבך אחר נדבך ובדקו כל תוספת בנפרד.
8.  **בדיקת GCP מוקדמת:** הקדישו זמן *מוקדם* לוודא שאתם מצליחים להריץ את ה-Frontend ב-GCP ללא שינויים בקוד, ושהוא נגיש דרך ה-IP הציבורי.
9.  **זמן לאופטימיזציה:** השאירו 2-3 ימים בסוף אך ורק לאופטימיזציה של המנוע על גבי GCP.
10. **עבודה משותפת:** שריינו זמני עבודה קבועים ומשותפים ("באותו חדר") עם השותף/ה לפרויקט.

**בהצלחה! סגל הקורס.**

</div>
